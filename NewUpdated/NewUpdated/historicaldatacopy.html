<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Historical Data</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <!-- <link rel="stylesheet" href="historicaldata.css"> -->
    <link rel="stylesheet" href="testside.css">
    <link rel="stylesheet" href="datatable.css">
    <link rel="stylesheet" href="datagraph.css">
    <link rel="stylesheet" href="UsageBill.css">
    <link rel="stylesheet" href="powerquality.css">
    <link rel="stylesheet" href="demandanalysis.css">
    

    <style>
        /* Add your CSS styles here */
        .content-section {
            display: none;
        }

        .active-section {
            display: block;
        }

        /* Add your tab styling here */
        .nav-tabs {
            list-style: none;
            padding: 0;
            display: flex;
        }

        .nav-tabs li {
            margin-right: 10px;
            cursor: pointer;
        }

        .nav-tabs .active {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <nav class="side-menu">
        <div class="menu-header">
            <!-- Logo and Menu Name -->
            <div class="logo-and-name">
                <div class="logo">
                    <img src="images/RE - Logo.png" alt="Your Logo">
                </div>
                <div class="menu-name">
                    Reactive Energy
                </div>
            </div>
        </div>
        
        <ul>
            <li ><a href="maps.html"><i class="fas fa-home"></i> Home</a></li>
            <li><a href="dashboard.html"><i class="fas fa-th-large"></i> Dashboard</a></li>
            <li><a href="historicaldata.html"><i class="fas fa-chart-line"></i> Historical Data</a></li>
            <li class="active"><a href="reportanalysis.html"><i class="fas fa-chart-pie"></i> Analytic Data</a></li>
            <li>
                <a href="#"><i class="fas fa-cogs"></i> Management</a>
                <ul class="submenu-content">
                    <li><a href="addplace.html"><i class="fas fa-map-marked-alt"></i> Plant Management</a></li>
                    <li><a href="devicemanagement.html"><i class="fas fa-tachometer-alt"></i> Device Management</a></li>
                    <li><a href="companymanagement.html"><i class="fas fa-building"></i> Company Management</a></li>
                </ul>
            </li>
            <li>
                <a href="#"><i class="fas fa-bell"></i> Alarm</a>
                <ul class="submenu-content">
                    <li><a href="alarmactive.html"><i class="fas fa-bell"></i> Alarm Active</a></li>
                    <li><a href="alarmhistorical.html"><i class="fas fa-history"></i> Alarm Historical</a></li>
                </ul>
            </li>
            <li>
                <a href="#"><i class="fas fa-cog"></i> System Setting</a>
                <ul class="submenu-content">
                    <li><a href="#"><i class="fas fa-user-cog"></i> Personal Setting</a></li>
                    <li><a href="#"><i class="fas fa-trash"></i> Delete Account</a></li>
                </ul>
            </li>
            <li>
                <a href="#"><i class="fas fa-info-circle"></i> About Us</a>
                <ul class="submenu-content">
                    <li><a href="#"><i class="fas fa-shield-alt"></i> Privacy Policy</a></li>
                    <li><a href="#"><i class="fas fa-file-alt"></i> Term of Use</a></li>
                    <li><a href="#"><i class="fas fa-code"></i> Version Information</a></li>
                    <li><a href="#"><i class="fas fa-envelope"></i> Contact Us</a></li>
                </ul>
            </li>
        </ul>
       <!-- User Profile Section -->
        <div class="user-profile">
            <div class="user-info">
                <img src="images/Picture5.png" alt="User Avatar">
                <div class="user-details">
                    <span class="user-name">MupaJ</span>
                    <span class="user-role">SCADA Engineer</span>
                </div>
            </div>
            <a href="login.html">
                <i class="fas fa-sign-out-alt" style="color: aliceblue;"></i> 
                <span style="color: rgb(245, 231, 231);">Logout</span>
            </a>
        </div>
    </nav>
    <main class="content">
        <!-- Main content of the page goes here -->
        
        <div class="top-header">
            <div class="notification">
                <i class="fas fa-bell alarm-icon" id="alarm-icon" style="color: #e01010; font-size: 32px; align-items: center; margin-right: 10px;" onclick="togglePopup()"></i>
                <span class="notification-count" id="notification-count">0</span>
                <div id="alarm-popup" class="alarm-popup">
                    <div class="alarms-list">
                    <!-- Your alarm content here -->
                    
            </div>
        </div>
        </div>
                <div class="language-select">
                    <select id="language-select">
                        <option value="en">English</option>
                        <option value="my">Malay</option>
                        <option value="md">Mandarin</option>
                    </select>
                </div>
            </div> 

        <ul class="nav-tabs">
            <li class="active" onclick="showSection('data-table')">Data Table</li>
            <li onclick="showSection('data-graph')">Data Graph</li>
            <li onclick="showSection('power-quality')">Power Quality</li>
            <li onclick="showSection('demand-analysis')">Demand Analysis</li>
            <li onclick="showSection('usage-billing')">Energy Usage and Billing</li>
        </ul>

        <div id="data-table" class="content-section active-section">
            <!-- Content for the Data Table section -->
            <!-- ... -->
        <h3>Data Table</h3>
        <label for="customer_serial_number">Energy Meter ID:</label>
        <select name="customer_serial_number" id="customer_serial_number">
            <!-- Populate this dropdown with your energy meter IDs -->
            <option value="28167148069191683">Energy Meter 1</option>
            <!-- Add more options as needed -->
        </select>

        <!-- New dropdown for data type (Voltage LN, Voltage LL, Current) -->
        <label for="datatype">Data Type:</label>
        <select name="datatype" id="datatype">
            <option value="Voltage Line to Neutral [V]">Voltage Line to Neutral [V]</option>
            <option value="Voltage Line to Line [V]">Voltage Line to Line [V]</option>
            <option value="Current [A]">Current [A]</option>
        </select>

        <!-- New date input for selecting a single date -->
        <label for="selected_date">Select Date:</label>
        <input type="date" id="date" name="date">
        
        <button onclick="fetchData()" class="custom-button">View Data</button>

        <!-- Single button for exporting data to PDF or Excel -->
        <!-- <button onclick="exportData('pdf')" class="custom-button">Export to PDF</button> -->
        <button onclick="exportData('excel')" class="custom-button">Export to Excel</button>

        <h4 id="dataInfo"></h4>

        <div id="dataContainer">
            <!-- Data table will be displayed here -->
        </div>
    </div>
        </div>
        
        <div id="data-graph" class="content-section">
            <!-- Content for the Data Table section -->
            <!-- ... -->
            <h3 style="color: #f2f2f2;">Data Graph</h3>
        
        <label for="customer_serial_number">Select Energy Meter ID:</label>
        <select name="customer_serial_number" id="customer_serial_number">
            <!-- Populate this dropdown with your energy meter IDs -->
            <option value="28167148069191683">Meter 1</option>
            <option value="28167148069191683">Meter 2</option>
            <option value="28167148069191683">Meter 3</option>
            <!-- Add more options as needed -->
        </select>

        <!-- New dropdown for data type (Voltage LN, Voltage LL, Current) -->
        <label for="datatype">Select Data Type:</label>
        <select name="datatype" id="datatype">
            <option value="Voltage Line to Neutral [V]">Voltage Line to Neutral [V]</option>
            <option value="Voltage Line to Line [V]">Voltage Line to Line [V]</option>
            <option value="Current [A]">Current [A]</option>
            <option value="Active Power">Active Power</option>
            <option value="Apparent Power">Apparent Power</option>
            <option value="Reactive Power [var]">Reactive Power [var]</option>
        </select>

        <!-- New date input for selecting a single date -->
        <!-- <label for="selected_date">Select Date:</label>
        <input type="date" id="date" name="date"> -->

        <label for="start_date">Start Date:</label>
        <input type="date" id="start_date" name="start_date">

        <label for="end_date">End Date:</label>
        <input type="date" id="end_date" name="end_date">


        <button onclick="fetchData()" >View Data</button>

        <h4 id="dataInfo" style="color: #f2f2f2;"></h4>

        <div id="chartContainer">
            <!-- Highcharts chart will be displayed here -->
        </div>

        <div id="dataContainer">
            <!-- Data table will be displayed here -->
        </div>
    </div>


        <div id="power-quality" class="content-section">
            <!-- Content for the Power Quality section -->
            <!-- ... -->
            <h3>Power Quality</h3>
        <label for="customer_serial_number">Energy Meter ID:</label>
        <select name="customer_serial_number" id="customer_serial_number">
            <!-- Populate this dropdown with your energy meter IDs -->
            <option value="28167148069191683">Energy Meter 1</option>
            <option value="28167148069191683">Energy Meter 2</option>
            <option value="28167148069191683">Energy Meter 3</option>
            <!-- Add more options as needed -->
        </select>
    
        <!-- New dropdown for data type (Voltage LN, Voltage LL, Current) -->
        <label for="datatype">Data Type:</label>
        <select name="datatype" id="datatype">
            <option value="Power Factor">Power Factor</option>
            <option value="Total Hormanic Distortion [THD U]">Total Hormanic Distortion [THD U]</option>
            <option value="Total Hormanic Current [THD I]">Total Hormanic Current [THD I]</option>
        </select>
        
        <!-- New date input for selecting a single date -->
        <label for="selected_date">Select Date:</label>
        <input type="date" id="date" name="date">
      
    
        <button onclick="fetchData()">View Data</button>
        <!-- Single button for exporting data to PDF or Excel -->
        <!-- <button onclick="exportData('pdf')" class="custom-button">Export to PDF</button> -->
        <button onclick="exportData('excel')" class="custom-button">Export to Excel</button>
        <h4 id="dataInfo"></h4>
    
        <div id="chartContainer">
            <!-- Line chart will be displayed here -->
            <canvas id="lineChart" width="400" height="200"></canvas>
        </div>
    
        <div id="dataContainer">
            <!-- Data table will be displayed here -->
        </div>
    </div>
        </div>

        <div id="demand-analysis" class="content-section">
            <!-- Content for the Demand Analysis section -->
            <!-- ... -->
            <h3 style="color: #f2f2f2; ">Demand Analysis</h3>
    <!-- Energy Meter ID -->
    <label>Select Meter ID:</label>
    <select id="meterID">
        <option value="1">Meter 1</option>
        <option value="2">Meter 2</option>
    </select>

    <!-- Month Selection -->
    <label>Select by Monthly:</label>
    <input type="month" id="monthSelection">

    <!-- Day Selection -->
    <label>Select by Day:</label>
    <input type="date" id="daySelection">
    <!-- Days of the Week -->
    <div>
        <div>
            <label><input type="checkbox" value="Monday">Monday</label>
            <label><input type="checkbox" value="Tuesday">Tuesday</label>
            <label><input type="checkbox" value="Wednesday">Wednesday</label>
            <label><input type="checkbox" value="Thursday">Thursday</label>
            <label><input type="checkbox" value="Friday">Friday</label>
            <label><input type="checkbox" value="Saturday">Saturday</label>
            <label><input type="checkbox" value="Sunday">Sunday</label>
        </div>
    </div>
    
    <!-- Interval -->
    <select id="intervalSelection">
        <option value="15">15 minutes</option>
        <option value="30">Half Hour</option>
        <option value="60">One Hour</option>
    </select>

    <!-- View Data Button -->
    <button onclick="generateData()">View Data</button>
</div>

<!-- Graph Container -->
<div id="chartContainer" style="height: 400px;"></div>

<!-- Data Table -->
<table>
    <thead>
        <tr>
            <th>Date</th>
            <th>Times</th>
            <th>Max Power[kWh]</th>
        </tr>
    </thead>
    <tbody id="dataTable"></tbody>
</table>
        </div>
    </div>


        <div id="usage-billing" class="content-section">
            <!-- Content for the Energy Usage and Billing section -->
            <!-- ... -->
            <h3 style="color: #f2f2f2;">Energy Usage and Billing</h3>
        <!-- <div class="container"> -->
        <!-- Report and Meter ID Selection -->
        <div class="card">
            <label>
                Report Type:
                <select id="reportType">
                    <option value="monthly">Monthly Report</option>
                    <option value="yearly">Yearly Report</option>
                </select>

                Meter ID:
                <select id="meterId">
                    <option value="Meter 1">Meter 1</option>
                    <option value="Meter 2">Meter 2</option>
                </select>

                Month:
                <input type="month" id="monthInput" min="2010-01" max="2023-09">
                
            </select>
                Year:
                <input type="number" id="yearInput" placeholder="yyyy" min="2010" max="2023">


            </select>
                <label>Custom Time Range:</label>
                Start: <input type="date" id="startDate">
                End: <input type="date" id="endDate">
            </select>
            <button id="viewBtn">View</button>
        </div>

        <!-- Results Header -->
        <div class="results-header card">
            Meter ID: <span id="selectedMeterId"></span>
            Date Range: <span id="selectedDateRange"></span>
        </div>

        <!-- Results Table -->
        <!-- <h2>Results</h2> -->
        <table>
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Total Energy Usage</th>
                    <th>Electricity Bill (RM)</th>
                </tr>
            </thead>
            <tbody>
                <!-- To be populated dynamically -->
            </tbody>
            <tfoot>
                <!-- Totals will be populated here -->
            </tfoot>
        </table>
    </div>
        </div>
    </main>

    <!-- Include your JavaScript files here -->
    <!-- <script src="historicaldata.js"></script> -->
    <script src="historicaldatacopy.js"></script>
    <script src="notification_language.js"></script>
    <script src="activemenuclick.js"></script>
    <script src="demandanalysis.js"></script>
    <script src="datatable.js"></script>
    <script src="powerquality.js"></script>
    <script src="UsageBill.js"></script>
    

    <script>
       
    </script>
</body>
</html>
